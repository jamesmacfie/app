'use strict';Router.globalSubscription = new SubsManager();Router.configure({	layoutTemplate: 'layout',	loadingTemplate: 'loading',	notFoundTemplate: 'notFound',	onBeforeAction: function() {		if (Meteor.isClient) {			if (!Meteor.userId()) {				this.render('login');			} else {				// Ensure we always hide the menu on route change				$('#pageHolder').removeClass('menuActive');			}		}			this.next();	},	waitOn: function() {		return [			Router.globalSubscription.subscribe('userNetworks'),			Router.globalSubscription.subscribe('userRooms'),			Router.globalSubscription.subscribe('userHubSensors'),			Router.globalSubscription.subscribe('userDataPoints'),			Router.globalSubscription.subscribe('sensorTypes')		];	}});